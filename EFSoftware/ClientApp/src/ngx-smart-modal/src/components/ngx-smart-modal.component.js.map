{"version":3,"file":"ngx-smart-modal.component.js","sourceRoot":"","sources":["ngx-smart-modal.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n  Input,\r\n  Output,\r\n  OnInit,\r\n  OnDestroy,\r\n  Renderer2,\r\n  Component,\r\n  EventEmitter,\r\n  HostListener,\r\n  ChangeDetectorRef, ViewChild, ElementRef,\r\n} from '@angular/core';\r\n\r\nimport { NgxSmartModalService } from '../services/ngx-smart-modal.service';\r\n\r\n@Component({\r\n  selector: 'ngx-smart-modal',\r\n  template: `\r\n    <div *ngIf=\"overlayVisible\"\r\n         [style.z-index]=\"visible ? layerPosition-1 : -1\"\r\n         [ngClass]=\"{'transparent':!backdrop, 'overlay':true, 'nsm-overlay-open':openedClass}\"\r\n         (mousedown)=\"dismiss($event)\" #nsmOverlay>\r\n      <div [style.z-index]=\"visible ? layerPosition : -1\"\r\n           [ngClass]=\"['nsm-dialog', customClass, openedClass ? 'nsm-dialog-open': 'nsm-dialog-close']\" #nsmDialog>\r\n        <div class=\"nsm-content\" #nsmContent>\r\n          <div class=\"nsm-body\">\r\n            <ng-content></ng-content>\r\n          </div>\r\n          <button type=\"button\" *ngIf=\"closable\" (click)=\"close()\" aria-label=\"Close\" class=\"nsm-dialog-btn-close\">\r\n            <img\r\n              src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCI+CjxnPgoJPGc+CgkJPHBhdGggZD0iTTUwNS45NDMsNi4wNThjLTguMDc3LTguMDc3LTIxLjE3Mi04LjA3Ny0yOS4yNDksMEw2LjA1OCw0NzYuNjkzYy04LjA3Nyw4LjA3Ny04LjA3NywyMS4xNzIsMCwyOS4yNDkgICAgQzEwLjA5Niw1MDkuOTgyLDE1LjM5LDUxMiwyMC42ODMsNTEyYzUuMjkzLDAsMTAuNTg2LTIuMDE5LDE0LjYyNS02LjA1OUw1MDUuOTQzLDM1LjMwNiAgICBDNTE0LjAxOSwyNy4yMyw1MTQuMDE5LDE0LjEzNSw1MDUuOTQzLDYuMDU4eiIgZmlsbD0iIzAwMDAwMCIvPgoJPC9nPgo8L2c+CjxnPgoJPGc+CgkJPHBhdGggZD0iTTUwNS45NDIsNDc2LjY5NEwzNS4zMDYsNi4wNTljLTguMDc2LTguMDc3LTIxLjE3Mi04LjA3Ny0yOS4yNDgsMGMtOC4wNzcsOC4wNzYtOC4wNzcsMjEuMTcxLDAsMjkuMjQ4bDQ3MC42MzYsNDcwLjYzNiAgICBjNC4wMzgsNC4wMzksOS4zMzIsNi4wNTgsMTQuNjI1LDYuMDU4YzUuMjkzLDAsMTAuNTg3LTIuMDE5LDE0LjYyNC02LjA1N0M1MTQuMDE4LDQ5Ny44NjYsNTE0LjAxOCw0ODQuNzcxLDUwNS45NDIsNDc2LjY5NHoiIGZpbGw9IiMwMDAwMDAiLz4KCTwvZz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `\r\n})\r\nexport class NgxSmartModalComponent implements OnInit, OnDestroy {\r\n  @Input() public closable: boolean = true;\r\n  @Input() public escapable: boolean = true;\r\n  @Input() public dismissable: boolean = true;\r\n  @Input() public identifier: string = '';\r\n  @Input() public customClass: string = 'nsm-dialog-animation-fade';\r\n  @Input() public visible: boolean = false;\r\n  @Input() public backdrop: boolean = true;\r\n  @Input() public force: boolean = true;\r\n  @Input() public hideDelay: number = 500;\r\n  @Input() public autostart: boolean = false;\r\n  @Input() public target: any;\r\n\r\n  @Output() public visibleChange: EventEmitter<boolean> = new EventEmitter<boolean>();\r\n  @Output() public onClose: EventEmitter<any> = new EventEmitter();\r\n  @Output() public onCloseFinished: EventEmitter<any> = new EventEmitter();\r\n  @Output() public onDismiss: EventEmitter<any> = new EventEmitter();\r\n  @Output() public onDismissFinished: EventEmitter<any> = new EventEmitter();\r\n  @Output() public onAnyCloseEvent: EventEmitter<any> = new EventEmitter();\r\n  @Output() public onAnyCloseEventFinished: EventEmitter<any> = new EventEmitter();\r\n  @Output() public onOpen: EventEmitter<any> = new EventEmitter();\r\n  @Output() public onEscape: EventEmitter<any> = new EventEmitter();\r\n  @Output() public onDataAdded: EventEmitter<any> = new EventEmitter();\r\n  @Output() public onDataRemoved: EventEmitter<any> = new EventEmitter();\r\n\r\n  public layerPosition: number = 1041;\r\n  public overlayVisible: boolean = false;\r\n  public openedClass: boolean = false;\r\n\r\n  private _data: any;\r\n\r\n  @ViewChild('nsmContent') private nsmContent: ElementRef | undefined;\r\n  @ViewChild('nsmDialog') private nsmDialog: ElementRef | undefined;\r\n  @ViewChild('nsmOverlay') private nsmOverlay: ElementRef | undefined;\r\n\r\n  constructor(\r\n    private _renderer: Renderer2,\r\n    private _changeDetectorRef: ChangeDetectorRef,\r\n    private _ngxSmartModalService: NgxSmartModalService\r\n  ) { }\r\n\r\n  public ngOnInit() {\r\n    if (!!this.identifier && this.identifier.length) {\r\n      this.layerPosition += this._ngxSmartModalService.getModalStackCount();\r\n      this._ngxSmartModalService.addModal({ id: this.identifier, modal: this }, this.force);\r\n\r\n      if (this.autostart) {\r\n        this._ngxSmartModalService.open(this.identifier);\r\n      }\r\n    } else {\r\n      throw new Error('identifier field isn’t set. Please set one before calling <ngx-smart-modal> in a template.');\r\n    }\r\n  }\r\n\r\n  public ngOnDestroy() {\r\n    this._ngxSmartModalService.removeModal(this.identifier);\r\n    window.removeEventListener('keyup', this.escapeKeyboardEvent);\r\n    if (!this._ngxSmartModalService.getModalStack.length) {\r\n      this._renderer.removeClass(document.body, 'dialog-open');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Open the modal instance\r\n   *\r\n   * @param top open the modal top of all other\r\n   */\r\n  public open(top?: boolean): void {\r\n    if (top) {\r\n      this.layerPosition = this._ngxSmartModalService.getHigherIndex();\r\n    }\r\n\r\n    this._renderer.addClass(document.body, 'dialog-open');\r\n    this.overlayVisible = true;\r\n    this.visible = true;\r\n\r\n    setTimeout(() => {\r\n      this.openedClass = true;\r\n\r\n      if (this.target) {\r\n        this.targetPlacement();\r\n      }\r\n\r\n      this._changeDetectorRef.markForCheck();\r\n    });\r\n\r\n    this.onOpen.emit(this);\r\n\r\n    if (this.escapable) {\r\n      window.addEventListener('keyup', this.escapeKeyboardEvent);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Close the modal instance\r\n   */\r\n  public close(): void {\r\n    const me = this;\r\n\r\n    this.openedClass = false;\r\n    this.onClose.emit(this);\r\n    this.onAnyCloseEvent.emit(this);\r\n\r\n    if (this._ngxSmartModalService.getOpenedModals().length < 2) {\r\n      this._renderer.removeClass(document.body, 'dialog-open');\r\n    }\r\n\r\n    setTimeout(() => {\r\n      me.visibleChange.emit(me.visible);\r\n      me.visible = false;\r\n      me.overlayVisible = false;\r\n      me._changeDetectorRef.markForCheck();\r\n      me.onCloseFinished.emit(me);\r\n      me.onAnyCloseEventFinished.emit(me);\r\n    }, this.hideDelay);\r\n\r\n    window.removeEventListener('keyup', this.escapeKeyboardEvent);\r\n  }\r\n\r\n  /**\r\n   * Dismiss the modal instance\r\n   *\r\n   * @param e the event sent by the browser\r\n   */\r\n  public dismiss(e: any): void {\r\n    const me = this;\r\n\r\n    if (!this.dismissable) {\r\n      return;\r\n    }\r\n\r\n    if (e.target.classList.contains('overlay')) {\r\n      this.openedClass = false;\r\n      this.onDismiss.emit(this);\r\n      this.onAnyCloseEvent.emit(this);\r\n\r\n      if (this._ngxSmartModalService.getOpenedModals().length < 2) {\r\n        this._renderer.removeClass(document.body, 'dialog-open');\r\n      }\r\n\r\n      setTimeout(() => {\r\n        me.visible = false;\r\n        me.visibleChange.emit(me.visible);\r\n        me.overlayVisible = false;\r\n        me._changeDetectorRef.markForCheck();\r\n        me.onDismissFinished.emit(me);\r\n        me.onAnyCloseEventFinished.emit(me);\r\n      }, this.hideDelay);\r\n\r\n      window.removeEventListener('keyup', this.escapeKeyboardEvent);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggle visibility of the modal instance\r\n   *\r\n   * @param top open the modal top of all other\r\n   */\r\n  public toggle(top?: boolean) {\r\n    if (this.visible) {\r\n      this.close();\r\n    } else {\r\n      this.open(top);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Add a custom class to the modal instance\r\n   *\r\n   * @param className the class to add\r\n   */\r\n  public addCustomClass(className: string): void {\r\n    if (!this.customClass.length) {\r\n      this.customClass = className;\r\n    } else {\r\n      this.customClass += ' ' + className;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Remove a custom class to the modal instance\r\n   *\r\n   * @param className the class to remove\r\n   */\r\n  public removeCustomClass(className?: string): void {\r\n    if (className) {\r\n      this.customClass = this.customClass.replace(className, '').trim();\r\n    } else {\r\n      this.customClass = '';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns the visibility state of the modal instance\r\n   */\r\n  public isVisible(): boolean {\r\n    return this.visible;\r\n  }\r\n\r\n  /**\r\n   * Checks if data is attached to the modal instance\r\n   */\r\n  public hasData(): boolean {\r\n    return this._data !== undefined;\r\n  }\r\n\r\n  /**\r\n   * Attach data to the modal instance\r\n   *\r\n   * @param data the data to attach\r\n   * @param force override potentially attached data\r\n   */\r\n  public setData(data: any, force?: boolean): any {\r\n    if (!this.hasData() || (this.hasData() && force)) {\r\n      this._data = data;\r\n      this.onDataAdded.emit(this._data);\r\n      this._changeDetectorRef.markForCheck();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Retrieve the data attached to the modal instance\r\n   */\r\n  public getData(): any {\r\n    return this._data;\r\n  }\r\n\r\n  /**\r\n   * Remove the data attached to the modal instance\r\n   */\r\n  public removeData(): void {\r\n    this._data = undefined;\r\n    this.onDataRemoved.emit(true);\r\n    this._changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  /**\r\n   * Close the latest opened modal if escape key event is emitted\r\n   */\r\n  public escapeKeyboardEvent = (event: KeyboardEvent) => {\r\n    if (event.keyCode === 27) {\r\n      if (this.layerPosition === this._ngxSmartModalService.getTopOpenedModal().layerPosition) {\r\n        this.onEscape.emit(this);\r\n        this._ngxSmartModalService.closeLatestModal();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Listens for window resize event and recalculates modal instance position if it is element-relative\r\n   */\r\n  @HostListener('window:resize')\r\n  public targetPlacement() {\r\n    if (!this.nsmDialog || !this.nsmContent || !this.nsmOverlay || !this.target) {\r\n      return;\r\n    }\r\n\r\n    const targetElementRect = document.querySelector(this.target).getBoundingClientRect();\r\n    const bodyRect = this.nsmOverlay.nativeElement.getBoundingClientRect();\r\n\r\n    const nsmContentRect = this.nsmContent.nativeElement.getBoundingClientRect();\r\n    const nsmDialogRect = this.nsmDialog.nativeElement.getBoundingClientRect();\r\n\r\n    const marginLeft = parseInt(getComputedStyle(this.nsmContent.nativeElement).marginLeft as any, 10);\r\n    const marginTop = parseInt(getComputedStyle(this.nsmContent.nativeElement).marginTop as any, 10);\r\n\r\n    let offsetTop = targetElementRect.top - nsmDialogRect.top - ((nsmContentRect.height - targetElementRect.height) / 2);\r\n    let offsetLeft = targetElementRect.left - nsmDialogRect.left - ((nsmContentRect.width - targetElementRect.width) / 2);\r\n\r\n    if (offsetLeft + nsmDialogRect.left + nsmContentRect.width + (marginLeft * 2) > bodyRect.width) {\r\n      offsetLeft = bodyRect.width - (nsmDialogRect.left + nsmContentRect.width) - (marginLeft * 2);\r\n    } else if (offsetLeft + nsmDialogRect.left < 0) {\r\n      offsetLeft = -nsmDialogRect.left;\r\n    }\r\n\r\n    if (offsetTop + nsmDialogRect.top + nsmContentRect.height + marginTop > bodyRect.height) {\r\n      offsetTop = bodyRect.height - (nsmDialogRect.top + nsmContentRect.height) - marginTop;\r\n    }\r\n\r\n    if (offsetTop < 0) {\r\n      offsetTop = 0;\r\n    }\r\n\r\n    this._renderer.setStyle(this.nsmContent.nativeElement, 'top', offsetTop + 'px');\r\n    this._renderer.setStyle(this.nsmContent.nativeElement, 'left', offsetLeft + 'px');\r\n  }\r\n}\r\n"]}